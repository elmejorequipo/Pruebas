<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visor de Conductas - Tercero A</title>
    <style>
        /* --- Importar Fuente Kawaii (Nunito) --- */
        @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap');

        /* --- Estilos Generales y Paleta de Colores Kawaii --- */
        :root {
            --color-primario: #ff8fab; /* Rosado principal */
            --color-secundario: #84d2f6; /* Azul cielo */
            --color-adaptativo: #79d2a6; /* Verde menta */
            --color-inadaptativo: #ffb38a; /* Durazno */
            --color-oro: #ffd700;
            --color-plata: #c0c0c0;
            --color-bronce: #cd7f32;
            --color-fondo: #fdf6f8;
            --color-texto: #574b60;
            --color-blanco: #fff;
            --sombra-suave: 0 4px 12px rgba(0, 0, 0, 0.08);
            --borde-redondeado: 20px;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--color-fondo);
            color: var(--color-texto);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        /* --- Estilos de Ranking Mejorados --- */
        .ranking-card {
            display: flex;
            align-items: center;
            padding: 10px;
            margin-bottom: 10px;
            background-color: #f0e8f355;
            border-radius: 12px;
            border: 2px solid transparent;
            transition: all 0.2s;
        }
        .ranking-card:hover {
            transform: translateX(10px);
            background-color: #f0e8f3;
        }
        
        /* Estilos especiales para el Top 3 */
        .ranking-card.rank-1 {
            background: linear-gradient(135deg, #fff7d1, #ffeeb1);
            border-color: var(--color-oro);
            transform: scale(1.05);
        }
        .ranking-card.rank-2 {
            background-color: #f0f0f0;
            border-color: var(--color-plata);
        }
        .ranking-card.rank-3 {
            background-color: #fbeee2;
            border-color: var(--color-bronce);
        }
        
        .ranking-position { font-size: 1.2rem; font-weight: 900; color: var(--color-primario); width: 30px; }
        .ranking-icon { width: 35px; height: 35px; margin: 0 10px; }
        .ranking-name { flex-grow: 1; font-weight: 700; }
        
        /* Resaltar nombre del Top 3 */
        .rank-1 .ranking-name, .rank-2 .ranking-name, .rank-3 .ranking-name {
            font-size: 1.2rem;
            font-weight: 900;
        }
        .rank-1 .ranking-name { color: #c7a700; }
        
        .ranking-score { font-weight: 900; color: #fff; background-color: var(--color-primario); padding: 5px 12px; border-radius: 50px; font-size: 0.9rem; }

        /* --- Estilos para el Modal de Felicitación y Confeti --- */
        #infoModal.congrats-modal .modal-content {
            background: linear-gradient(to top, var(--color-blanco), #f0e8f3);
            border: 3px solid var(--color-primario);
        }
        #infoModal.congrats-modal h3 {
             background: -webkit-linear-gradient(45deg, var(--color-primario), var(--color-secundario), var(--color-adaptativo));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        #confetti-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: var(--color-primario);
            opacity: 0.7;
            animation: fall 5s linear infinite;
        }
        .confetti:nth-child(2n) { background-color: var(--color-secundario); }
        .confetti:nth-child(3n) { background-color: var(--color-adaptativo); animation-duration: 6s; }
        .confetti:nth-child(4n) { width: 15px; height: 7px; background-color: var(--color-oro); animation-duration: 4s; }

        @keyframes fall {
            from {
                top: -20px;
                transform: rotate(0deg);
            }
            to {
                top: 100%;
                transform: rotate(720deg);
            }
        }
        
        /* --- (Resto de los estilos CSS sin cambios) --- */
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; background-color: var(--color-blanco); border-radius: var(--borde-redondeado); box-shadow: var(--sombra-suave); }
        header { text-align: center; padding-bottom: 20px; margin-bottom: 30px; }
        header h1 { color: var(--color-primario); font-weight: 900; font-size: 2.8rem; margin: 0; position: relative; }
        header h1::after { content: '✨'; font-size: 1.5rem; position: absolute; top: 0; right: 25%; transform: rotate(15deg); }
        .header-subtitle { font-size: 1.2rem; font-weight: 700; margin: 5px 0; color: var(--color-secundario); }
        .info-icon { display: inline-block; width: 20px; height: 20px; border-radius: 50%; background-color: #ddd; color: var(--color-blanco); text-align: center; line-height: 20px; font-size: 0.8rem; font-weight: 700; cursor: pointer; margin-left: 8px; transition: all 0.2s; }
        .info-icon:hover { background-color: var(--color-secundario); transform: scale(1.1); }
        #studentListContainer { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 15px; margin-top: 20px; }
        .student-item { padding: 12px; background-color: #f0e8f3; border-radius: 15px; text-align: center; font-weight: 700; cursor: pointer; transition: all 0.2s ease-in-out; border-bottom: 4px solid #d9c8e0; }
        .student-item:hover { background-color: var(--color-primario); color: var(--color-blanco); transform: translateY(-4px); border-bottom-color: #e06b8b; box-shadow: var(--sombra-suave); }
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(90, 75, 100, 0.7); display: flex; justify-content: center; align-items: center; z-index: 1000; opacity: 0; visibility: hidden; transition: all 0.3s ease; }
        .modal-overlay.visible { opacity: 1; visibility: visible; }
        .modal-content { background: var(--color-blanco); padding: 40px; border-radius: var(--borde-redondeado); text-align: center; box-shadow: 0 5px 20px rgba(0,0,0,0.3); width: 90%; max-width: 450px; transform: scale(0.9); transition: all 0.3s ease; position:relative; }
        .modal-overlay.visible .modal-content { transform: scale(1); }
        .modal-content h3 { margin-top: 0; font-size: 1.5rem; color: var(--color-primario); }
        .modal-content p { margin: 15px 0; font-size: 1rem; text-align: left;}
        .modal-content input { width: 100%; padding: 12px; margin: 15px 0; border: 2px solid #ddd; border-radius: 12px; font-size: 1rem; font-family: 'Nunito', sans-serif; }
        .modal-content input:focus { outline: none; border-color: var(--color-primario); }
        .modal-content button { width: 100%; padding: 12px; border: none; border-radius: 12px; background-color: var(--color-primario); color: var(--color-blanco); font-size: 1.1rem; font-weight: 700; cursor: pointer; transition: all 0.2s; border-bottom: 4px solid #e06b8b; margin-top: 10px; }
        .modal-content button:hover { transform: translateY(-2px); }
        .modal-content button:active { transform: translateY(0); }
        #infoModal .modal-content button { background-color: var(--color-secundario); border-bottom-color: #63b1d8; }
        #resultsContainer { display: none; }
        #summarySection { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; padding: 20px; background-color: #f0e8f322; border-radius: var(--borde-redondeado); margin-bottom: 30px; text-align: center; }
        .summary-item h4 { margin: 0 0 10px 0; color: #aaa; text-transform: uppercase; font-size: 0.9rem; font-weight: 700; display: flex; justify-content: center; align-items: center; }
        .summary-item p { margin: 0; font-size: 2.2rem; font-weight: 900; }
        #scoreDisplay { color: var(--color-primario); }
        #rankDisplay { color: var(--color-secundario); font-size: 1.8rem; }
        .progress-bar-container { width: 100%; background-color: #e9ecef; border-radius: 50px; height: 25px; overflow: hidden; margin-top: 5px; border: 3px solid white; box-shadow: inset 0 2px 4px rgba(0,0,0,0.1); }
        .progress-bar { width: 0%; height: 100%; background: linear-gradient(90deg, var(--color-adaptativo), #a2e2c2); border-radius: 50px; transition: width 0.8s ease-in-out; }
        #behaviorsGrid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
        .behavior-column h3 { text-align: center; padding-bottom: 10px; border-bottom: 4px dotted; font-size: 1.5rem; font-weight: 900; }
        #adaptiveContainer h3 { border-color: var(--color-adaptativo); color: var(--color-adaptativo); }
        #maladaptiveContainer h3 { border-color: var(--color-inadaptativo); color: var(--color-inadaptativo); }
        .behavior-card { display: flex; align-items: center; background: var(--color-blanco); padding: 15px; border-radius: 15px; box-shadow: var(--sombra-suave); margin-bottom: 15px; transition: transform 0.2s; }
        .behavior-card:hover { transform: translateY(-5px); }
        .behavior-icon { width: 50px; height: 50px; margin-right: 15px; }
        .behavior-name { flex-grow: 1; font-weight: 700; font-size: 1.1rem; }
        .behavior-count { font-size: 1.8rem; font-weight: 900; padding: 5px 15
